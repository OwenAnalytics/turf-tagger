(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var r;if(typeof window!=="undefined"){r=window}else if(typeof global!=="undefined"){r=global}else if(typeof self!=="undefined"){r=self}else{r=this}r.geojson2dsv=e()}})(function(){var o,e,r;return function(){function l(i,a,u){function f(t,e){if(!a[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(s)return s(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var o=a[t]={exports:{}};i[t][0].call(o.exports,function(e){var r=i[t][1][e];return f(r||e)},o,o.exports,l,i,a,u)}return a[t].exports}for(var s="function"==typeof require&&require,e=0;e<u.length;e++)f(u[e]);return f}return l}()({1:[function(e,r,t){r.exports=o;var n={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function o(e){if(!e||!e.type)return null;var r=n[e.type];if(!r)return null;if(r==="geometry"){return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:e}]}}else if(r==="feature"){return{type:"FeatureCollection",features:[e]}}else if(r==="featurecollection"){return e}}},{}],2:[function(e,t,n){(function(e,r){typeof n==="object"&&typeof t!=="undefined"?r(n):typeof o==="function"&&o.amd?o(["exports"],r):(e=e||self,r(e.d3=e.d3||{}))})(this,function(e){"use strict";var d={},v={},m=34,p=10,g=13;function l(e){return new Function("d","return {"+e.map(function(e,r){return JSON.stringify(e)+": d["+r+'] || ""'}).join(",")+"}")}function y(t,n){var o=l(t);return function(e,r){return n(o(e),r,t)}}function w(e){var t=Object.create(null),n=[];e.forEach(function(e){for(var r in e){if(!(r in t)){n.push(t[r]=r)}}});return n}function i(e,r){var t=e+"",n=t.length;return n<r?new Array(r-n+1).join(0)+t:t}function a(e){return e<0?"-"+i(-e,6):e>9999?"+"+i(e,6):i(e,4)}function h(e){var r=e.getUTCHours(),t=e.getUTCMinutes(),n=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":a(e.getUTCFullYear())+"-"+i(e.getUTCMonth()+1,2)+"-"+i(e.getUTCDate(),2)+(o?"T"+i(r,2)+":"+i(t,2)+":"+i(n,2)+"."+i(o,3)+"Z":n?"T"+i(r,2)+":"+i(t,2)+":"+i(n,2)+"Z":t||r?"T"+i(r,2)+":"+i(t,2)+"Z":"")}function r(n){var r=new RegExp('["'+n+"\n\r]"),c=n.charCodeAt(0);function e(e,t){var n,o,r=i(e,function(e,r){if(n)return n(e,r-1);o=e,n=t?y(e,t):l(e)});r.columns=o||[];return r}function i(n,e){var r=[],o=n.length,i=0,t=0,a,u=o<=0,f=false;if(n.charCodeAt(o-1)===p)--o;if(n.charCodeAt(o-1)===g)--o;function s(){if(u)return v;if(f)return f=false,d;var e,r=i,t;if(n.charCodeAt(r)===m){while(i++<o&&n.charCodeAt(i)!==m||n.charCodeAt(++i)===m);if((e=i)>=o)u=true;else if((t=n.charCodeAt(i++))===p)f=true;else if(t===g){f=true;if(n.charCodeAt(i)===p)++i}return n.slice(r+1,e-1).replace(/""/g,'"')}while(i<o){if((t=n.charCodeAt(e=i++))===p)f=true;else if(t===g){f=true;if(n.charCodeAt(i)===p)++i}else if(t!==c)continue;return n.slice(r,e)}return u=true,n.slice(r,o)}while((a=s())!==v){var l=[];while(a!==d&&a!==v)l.push(a),a=s();if(e&&(l=e(l,t++))==null)continue;r.push(l)}return r}function t(e,t){return e.map(function(r){return t.map(function(e){return s(r[e])}).join(n)})}function o(e,r){if(r==null)r=w(e);return[r.map(s).join(n)].concat(t(e,r)).join("\n")}function a(e,r){if(r==null)r=w(e);return t(e,r).join("\n")}function u(e){return e.map(f).join("\n")}function f(e){return e.map(s).join(n)}function s(e){return e==null?"":e instanceof Date?h(e):r.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:e,parseRows:i,format:o,formatBody:a,formatRows:u,formatRow:f,formatValue:s}}var t=r(",");var n=t.parse;var o=t.parseRows;var u=t.format;var f=t.formatBody;var s=t.formatRows;var c=t.formatRow;var C=t.formatValue;var F=r("\t");var j=F.parse;var R=F.parseRows;var T=F.format;var x=F.formatBody;var A=F.formatRows;var N=F.formatRow;var P=F.formatValue;function b(e){for(var r in e){var t=e[r].trim(),n,o;if(!t)t=null;else if(t==="true")t=true;else if(t==="false")t=false;else if(t==="NaN")t=NaN;else if(!isNaN(n=+t))t=n;else if(o=t.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)){if(U&&!!o[4]&&!o[7])t=t.replace(/-/g,"/").replace(/T/," ");t=new Date(t)}else continue;e[r]=t}return e}var U=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();e.autoType=b;e.csvFormat=u;e.csvFormatBody=f;e.csvFormatRow=c;e.csvFormatRows=s;e.csvFormatValue=C;e.csvParse=n;e.csvParseRows=o;e.dsvFormat=r;e.tsvFormat=T;e.tsvFormatBody=x;e.tsvFormatRow=N;e.tsvFormatRows=A;e.tsvFormatValue=P;e.tsvParse=j;e.tsvParseRows=R;Object.defineProperty(e,"__esModule",{value:true})})},{}],geojson2dsv:[function(e,r,t){var o=e("d3-dsv").dsvFormat;var i=e("@mapbox/geojson-normalize");function n(e,r,t){var n=i(e).features.map(function(e){if(e.geometry&&e.geometry.type==="Point"){return Object.assign({},e.properties,{lon:e.geometry.coordinates[0],lat:e.geometry.coordinates[1]})}if(t){return e.properties}}).filter(Boolean);return o(r||",").format(n)}r.exports=n},{"@mapbox/geojson-normalize":1,"d3-dsv":2}]},{},[])("geojson2dsv")});
